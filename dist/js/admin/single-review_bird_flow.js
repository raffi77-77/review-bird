(()=>{"use strict";var e={n:s=>{var i=s&&s.__esModule?()=>s.default:()=>s;return e.d(i,{a:i}),i},d:(s,i)=>{for(var t in i)e.o(i,t)&&!e.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:i[t]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.domReady;var i=e.n(s);const t=window.wp.element,a=window.wp.i18n,r=window.ReactJSXRuntime;function n({children:e}){const[s,i]=(0,t.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{type:"button",className:"rw-admin-label-tooltip",onClick:()=>i(!0),children:(0,r.jsx)("svg",{className:"rw-admin-label-tooltip-in",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",children:(0,r.jsx)("path",{d:"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})}),s&&(0,r.jsxs)("div",{className:"rw-admin-model-layout",children:[(0,r.jsx)("div",{className:"rw-admin-model-overlay",onClick:()=>i(!1)}),(0,r.jsxs)("div",{className:"rw-admin-modal",children:[(0,r.jsx)("button",{type:"button",className:"rw-flow-button-close rw-flow-button-30",onClick:()=>i(!1),children:(0,r.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M7.5 22.5L22.5 7.5M7.5 7.5L22.5 22.5",stroke:"#005086",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.jsx)("div",{className:"rw-admin-modal-body",children:e})]})]})]})}const l=async e=>{let s;try{s=await e.json()}catch(e){throw new Error(__("Something went wrong","review-bird"))}if(!e.ok){let e=s.message;if(s.data?.details){const i=Object.values(s.data.details);i.length&&(e=i.map((e=>__(e.message,"review-bird"))).join("<br/>"))}else s.data?.message&&(e=s.data?.message);throw new Error(e||__("Something went wrong","review-bird"))}return s},d=e=>"boolean"==typeof e?+e||"":e,c=(e,s,i)=>{const t=document.createElement("input");t.type="hidden",t.name=s,t.value=d(i),e.appendChild(t),setTimeout((()=>t.remove()),0)},o=(e,s,i)=>{i&&"object"==typeof i?Object.entries(i).forEach((([i,t])=>{o(e,`${s}[${i}]`,t)})):c(e,s,d(i))},m=[[[50,50],[33,33,34],[25,25,25,25]],[[60,40],[50,25,25],[40,20,20,20]],[[70,30],[60,25,15],[50,20,15,15]],[[80,20],[70,20,10],[60,20,10,10]],[[90,10],[80,15,5],[70,15,10,5]]];function w(){const[e,s]=(0,t.useState)(0),[i,d]=(0,t.useState)(null),w={review_targets:(0,t.useState)([{url:"",percent:100}]),multiple_targets:(0,t.useState)(0)};(0,t.useEffect)((()=>{w.review_targets[1]((e=>{const s=e.length;return 1===s?e.map(((e,s)=>({...e,percent:100}))):e.map(((e,i)=>({...e,percent:m[0][s-2][i]})))}))}),[w.review_targets[0].length]),(0,t.useEffect)((()=>{h()}),[]);const h=async()=>{s((e=>e+1));try{const e=await((e,s,i,t={})=>{const a=((e,s="?")=>{try{const i=new URLSearchParams;for(const s in e)Array.isArray(e[s])?e[s].forEach((e=>i.append(`${s}[]`,e))):i.append(s,e[s]);let t=i.toString();return t&&(t=s+t),t}catch(e){return console.error(e),""}})(t);return fetch(`${e}flows/${i}${a}`,{headers:{"X-WP-Nonce":s}}).then(l)})(ReviewBird.rest.url,ReviewBird.rest.nonce,ReviewBird.flow_uuid,{include:["metas"]});if(e.metas.length)for(const s of e.metas)s.key in w&&w[s.key][1](s.value);d(e)}catch(e){console.log(e)}s((e=>e-1))};(0,t.useEffect)((()=>(document.querySelector("#post").addEventListener("submit",p),()=>{document.querySelector("#post").removeEventListener("submit",p)})),[w]);const p=e=>{const s=(e=>Object.keys(e).reduce(((s,i)=>(s.push({key:i,value:e[i][0]}),s)),[]))(w);if(s.length){const i=e.target;for(const e in s)c(i,`metas[${e}][meta_key]`,s[e].key),o(i,`metas[${e}][meta_value]`,s[e].value)}};return(0,r.jsxs)("div",{className:"rw-skin-content",children:[(0,r.jsxs)("div",{className:"rw-admin-body",children:[(0,r.jsx)("div",{className:"rw-skin-content-title",children:(0,r.jsxs)("label",{htmlFor:"review-target-main",className:"rw-admin-title-in",children:[(0,a.__)("Review Target","review-bird")," #1"]})}),(0,r.jsx)("div",{className:"rw-skin-content-in",children:(0,r.jsxs)("div",{className:"rw-admin-row",children:[(0,r.jsx)("input",{id:"review-target-main",type:"text",className:"rw-admin-input",placeholder:"https://",value:w.review_targets[0][0]?.url||"",onChange:e=>w.review_targets[1]((s=>s.map(((s,i)=>0===i?{...s,url:e.target.value}:s))))}),(0,r.jsx)("p",{className:"rw-admin-desc",children:(0,a.__)("This field is required.","review-bird")}),(0,r.jsxs)("div",{className:"rw-admin-label",children:[(0,r.jsxs)(n,{children:[(0,r.jsx)("p",{className:"rw-admin-title-in",children:"â­ Quick Review Link Guide by Platform"}),(0,r.jsx)("p",{className:"rw-admin-title-in",children:"Is there a quick review link?"}),(0,r.jsxs)("p",{className:"rw-admin-desc",children:["1. Google âœ… Yes â€“ Use the Google Place ID to generate a direct link: https://search.google.com/local/writereview?placeid=YOUR_PLACE_ID Find your Place ID here:",(0,r.jsx)("a",{href:"#",children:"ðŸ‘‰ https://developers.google.com/maps/documentation/places/web-service/place-id"})]}),(0,r.jsxs)("p",{className:"rw-admin-desc",children:["2. Facebook âœ… Yes, but a bit more complex. Direct link to review tab (if enabled on page):",(0,r.jsx)("a",{href:"#",children:"https://www.facebook.com/YOUR_PAGE_USERNAME/reviews/"}),"âš ï¸ Note: The review feature must be turned on for the Facebook page."]}),(0,r.jsxs)("p",{className:"rw-admin-desc",children:["3. Yelp ðŸ”¶ Partially â€“ No official direct link to the review form. Best option: Link to business page, review section will show if user is logged in:",(0,r.jsx)("a",{href:"#",children:"https://www.yelp.com/biz/YOUR-BUSINESS-NAME"})]}),(0,r.jsx)("p",{className:"rw-admin-desc",children:'4. Amazon âŒ No â€“ There is no direct "quick review" link. Users must go to their orders â†’ select product â†’ leave a review.'}),(0,r.jsx)("p",{className:"rw-admin-desc",children:"5. Audible ðŸ”¶ Indirect â€“ Reviews are done via Amazon. No separate direct link for Audible-specific content."}),(0,r.jsx)("p",{className:"rw-admin-desc",children:"6. iTunes / Apple Music âŒ No direct review link for apps, music, or podcasts. Users must open iTunes/Apple Podcasts and leave a review within the app."}),(0,r.jsxs)("p",{className:"rw-admin-desc",children:["7. Apple App Store ðŸ”¶ No direct link to review form, but you can link to the app's page:",(0,r.jsx)("a",{href:"#",children:"https://apps.apple.com/app/idYOUR_APP_ID"}),'Users can scroll to "Ratings & Reviews" and click "Write a Review."']}),(0,r.jsxs)("p",{className:"rw-admin-desc",children:["8. Google Play âœ… Yes â€“ Direct link to your app's page:",(0,r.jsx)("a",{href:"#",children:"https://play.google.com/store/apps/details?id=YOUR_APP_PACKAGE_NAME"}),'Users can click "Rate this app" directly from there.']}),(0,r.jsx)("p",{className:"rw-admin-desc",children:"9. Foursquare âŒ No quick review link â€“ Users must search for the venue manually in the app or site."}),(0,r.jsxs)("p",{className:"rw-admin-desc",children:["10. WordPress ðŸ”¶ Depends â€“ If you're asking for plugin or theme reviews on WordPress.org: Direct link:",(0,r.jsx)("a",{href:"#",children:"https://wordpress.org/support/plugin/PLUGIN-SLUG/reviews/#new-post"}),"Replace PLUGIN-SLUG with your plugin's slug."]}),(0,r.jsx)("p",{className:"rw-admin-desc",children:"11. Etsy âŒ No direct review link â€“ Reviews are only allowed for verified purchases, and must be left through the buyerâ€™s account."}),(0,r.jsx)("p",{className:"rw-admin-desc",children:"12. YouTube âœ… Yes â€“ To make a subscribe link for your YouTube channel, just add ? sub_confirmation=1 to the end of your YouTube channel's URL"})]}),(0,r.jsx)("p",{className:"rw-admin-desc",children:(0,a.__)("How to find the right URL","review-bird")})]})]})})]}),(0,r.jsxs)("div",{className:"rw-admin-body",children:[(0,r.jsx)("div",{className:"rw-skin-content-title",children:(0,r.jsx)("label",{htmlFor:"rw-multiple-targets",className:"rw-admin-title-in",children:(0,a.__)("Enable Multiple Targets","review-bird")})}),(0,r.jsx)("div",{className:"rw-skin-content-in",children:(0,r.jsx)("div",{className:"rw-admin-row",children:(0,r.jsxs)("div",{className:"rw-admin-row-in",children:[(0,r.jsxs)("div",{className:"rw-admin-label",children:[(0,r.jsx)("div",{className:"rw-skin-select-radio"+(w.multiple_targets[0]?" active":""),children:(0,r.jsx)("input",{id:"rw-multiple-targets-yes",type:"radio",className:"rw-skin-select-radio-in",value:1,checked:!!w.multiple_targets[0],onChange:()=>w.multiple_targets[1](1)})}),(0,r.jsx)("label",{htmlFor:"rw-multiple-targets-yes",className:"rw-admin-desc-in",children:(0,a.__)("Yes","review-bird")})]}),(0,r.jsxs)("div",{className:"rw-admin-label",children:[(0,r.jsx)("div",{className:"rw-skin-select-radio"+(w.multiple_targets[0]?"":" active"),children:(0,r.jsx)("input",{id:"rw-multiple-targets-no",type:"radio",className:"rw-skin-select-radio-in",value:0,checked:!w.multiple_targets[0],onChange:()=>w.multiple_targets[1](0)})}),(0,r.jsx)("label",{htmlFor:"rw-multiple-targets-no",className:"rw-admin-desc-in",children:(0,a.__)("No","review-bird")})]})]})})})]}),!!w.multiple_targets[0]&&w.review_targets[0].length>1&&w.review_targets[0].slice(1).map(((e,s)=>{const i=s+1;return(0,r.jsxs)("div",{className:"rw-admin-body rw-admin-body-nested",children:[(0,r.jsxs)("div",{className:"rw-skin-content-title rw-admin-title",children:[(0,r.jsxs)("h2",{className:"rw-admin-title-in",children:[(0,a.__)("Target","review-bird")," #",i+1,":"]}),(0,r.jsx)("svg",{className:"rw-admin-i",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:(0,r.jsx)("path",{d:"M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"})})]}),(0,r.jsx)("div",{className:"rw-skin-content-in",children:(0,r.jsx)("div",{className:"rw-admin-row rw-admin-row-nested",children:(0,r.jsx)("input",{type:"text",placeholder:"https://",className:"rw-admin-input",value:e.url,onChange:e=>w.review_targets[1]((s=>s.map(((s,t)=>t===i?{...s,url:e.target.value}:s))))})})})]},i)})),!!w.multiple_targets[0]&&w.review_targets[0].length<4&&(0,r.jsx)("div",{className:"rw-admin-body rw-admin-body-nested",children:(0,r.jsx)("div",{className:"rw-skin-content-title rw-admin-title",children:(0,r.jsx)("button",{type:"button",className:"rw-admin-add",onClick:()=>w.review_targets[1]((e=>[...e,{url:"",percent:50}])),children:(0,r.jsx)("svg",{className:"rw-admin-i rw-admin-add-i",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",children:(0,r.jsx)("path",{d:"M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})})})}),!!w.multiple_targets[0]&&w.review_targets[0].length>1&&(0,r.jsxs)("div",{className:"rw-admin-body",children:[(0,r.jsx)("div",{className:"rw-skin-content-title",children:(0,r.jsx)("h2",{className:" rw-admin-table-title",children:(0,a.__)("Review Target Distribution","review-bird")})}),(0,r.jsx)("div",{className:"rw-skin-content-in rw-admin-row",children:(0,r.jsxs)("table",{className:"rw-admin-table",children:[(0,r.jsx)("thead",{className:"rw-admin-table-head",children:(0,r.jsxs)("tr",{className:"rw-admin-table-head-in",children:[(0,r.jsx)("th",{className:"rw-admin-table-head-item",children:(0,r.jsx)("span",{className:"rw-admin-table-head-desc",children:(0,a.sprintf)((0,a.__)("if %d targets are chosen","review-bird"),2)})}),(0,r.jsx)("th",{className:"rw-admin-table-head-item",children:(0,r.jsx)("span",{className:"rw-admin-table-head-desc",children:(0,a.sprintf)((0,a.__)("if %d targets are chosen","review-bird"),3)})}),(0,r.jsx)("th",{className:"rw-admin-table-head-item",children:(0,r.jsx)("span",{className:"rw-admin-table-head-desc",children:(0,a.sprintf)((0,a.__)("if %d targets are chosen","review-bird"),4)})})]})}),(0,r.jsx)("tbody",{className:"rw-admin-table-body",children:m.map(((e,s)=>(0,r.jsx)("tr",{className:"rw-admin-table-body-in",children:e.map(((e,s)=>{const i=e.join("-"),t=w.review_targets[0].map((e=>e.percent)).join("-");return(0,r.jsx)("td",{className:`rw-admin-table-body-item clickable${t===i?" selected":""}${e.length!==w.review_targets[0].length?" disabled":""}`,onClick:()=>(e=>{w.review_targets[1]((s=>s.map(((s,i)=>({...s,percent:e[i]})))))})(e),children:(0,r.jsx)("span",{className:"rw-admin-table-desc",children:e.map((e=>`${e}%`)).join(" / ")})},i)}))},s)))})]})})]})]})}i()((()=>{const e=document.querySelector("#positive-review-response .inside");e&&(0,t.createRoot)(e).render((0,r.jsx)(w,{}))}))})();